;; (defun nispio/show-trimmed-help-string ()
;;   (interactive)
;;   (let* ((help (help-at-pt-string))
;; 	 (str (cdr (split-string (or help "") "\n")))
;; 	 (msg (mapconcat 'identity str "\n")))
;;     (if (called-interactively-p 'any)
;; 	(message msg))
;;     msg))

;; (setq-default header-line-format
;; 		(list 
;; 		 '(:eval (format "%c" (+ 64 (org-table-current-column))))
;; 		 '(:eval (format "%d" (org-table-current-dline)))
;; 		 ": "
;; 		 '(:eval (or (progn (org-table-get-specials)
;; 				    (org-table-current-field-formula))
;; 			     (my-trim-string (org-table-get-field))))
;; 		 ))

(progn

(defun my-trim-string (arg) 
"Simple function for trimming the whitespace from the ends of
 a string. Also removes any string properties such as font faces."
 (let ((str (substring-no-properties arg)))
    (when (string-match "^[ \t]+" str)
      (setq str (replace-match "" nil nil str)))
    (when (string-match "[ \t]+$" str)
      (setq str (replace-match "" nil nil str)))
    str))

(defun my-org-table-location (&optional arg)
"Get the location "
  (interactive "P")
  (when (eq 'org-mode major-mode)
    (org-table-get-specials)
    (let* ((row (org-table-current-dline))
	   (col (org-table-current-column))
	   (loc (if arg
		    (format "%c%02d" (+ 64 col) row)
		  (format "@%d$%d" row col))))
      (when (called-interactively-p 'any)
	(message "Field Location: %s" loc))
      loc)))

(defun my-org-table-field (&optional arg)
  (interactive "P")
  (when (eq 'org-mode major-mode)
    (org-table-get-specials)
    (let* ((formula (org-table-current-field-formula))
	   (value (my-trim-string (org-table-get-field)))
	   (field (or (and arg formula) field)))
      (when (called-interactively-p 'any)
	(message "Field Value: %s" loc))
      field)))

;; Define the format 
(setq my-org-table-header
  (list '(:eval (let ((loc (my-org-table-location))
		      (field (my-org-table-field)))
		  (format " %s: %s" loc field)))))

(defun my-org-mode-setup ()
  "Apply custom setup to org-mode buffers"
  (setq-local header-line-format my-org-table-header))
(add-hook 'org-mode-hook 'my-org-mode-setup)

)

;; (bind-key "C-h C-." 'nispio/show-trimmed-help-string)

;; Show a list of all 
;; (source: http://emacs.stackexchange.com/a/654/93)
(defun nispio/locate-key-binding (key)
  "Determine in which keymap KEY is defined."
  (interactive "kPress key: ")
  (let ((ret (list (nispio/key-binding-at-point key)
		   (minor-mode-key-binding key)
		   (local-key-binding key)
		   (global-key-binding key))))
    (when (called-interactively-p 'any)
      (with-output-to-temp-buffer "*locate-key*"
	;; (split-window-vertically -4)
	(princ (format "Key Bindings for %s\n\n" (key-description key)))
	(princ (format "At Point: %s\n" (or (nth 0 ret) "nil")))
	(princ (format "Minor-mode: %s\n"
		       (or (and (nth 1 ret)
				(mapconcat
				 (lambda (x) (format "%s: %s" (car x) (cdr x)))
				 (nth 1 ret) "\n            ")) "nil")))
	(princ (format "Local: %s\n" (or (nth 2 ret) "nil")))
	(princ (format "Global: %s" (or (nth 3 ret) "nil")))))
    ret))
(bind-key "C-h C-k" 'nispio/locate-key-binding)

(local-key-binding (format "%c" (? (kbd "C-h")) )
(lookup-key (current-local-map) (kbd "C-h k"))
(local-set-key (kbd "C-M-j") 'eval-print-last-sexp)

(nispio/locate-key-binding (kbd "C-h C-k"))
(prin1-to-string (local-key-binding (kbd "C-h C-k"))

(current-active-maps)
((keymap #^[nil nil keymap 
#^^[3 0 nil nil nil nil nil nil nil nil (keymap (27 keymap (11 . nispio/unbind-local-key)) (66 . describe-personal-keybindings)) nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nispio/other-window nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil] #^^[1 0 #^^[2 0 
#^^[3 0 nil nil nil nil nil nil nil nil (keymap (27 keymap (11 . nispio/unbind-local-key)) (66 . describe-personal-keybindings)) nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nispio/other-window nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil] nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil] nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil] nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil]) (keymap (67108910 . auto-complete)) (keymap (remap keymap (display-buffer . ido-display-buffer) (kill-buffer . ido-kill-buffer) (insert-buffer . ido-insert-buffer) (switch-to-buffer-other-frame . ido-switch-buffer-other-frame) (switch-to-buffer-other-window . ido-switch-buffer-other-window) (switch-to-buffer . ido-switch-buffer) (find-file-read-only-other-frame . ido-find-file-read-only-other-frame) (find-file-other-frame . ido-find-file-other-frame) (find-file-read-only-other-window . ido-find-file-read-only-other-window) (find-file-other-window . ido-find-file-other-window) (dired . ido-dired) (list-directory . ido-list-directory) (insert-file . ido-insert-file) (write-file . ido-write-file) (find-alternate-file . ido-find-alternate-file) (find-file-read-only . ido-find-file-read-only) (find-file . ido-find-file))) (keymap (menu-bar keymap (emacs-lisp "Emacs-Lisp" keymap (indent-line menu-item "Indent Line" lisp-indent-line) (indent-region menu-item "Indent Region" indent-region :help "Indent each nonblank line in the region" :enable mark-active) (comment-region menu-item "Comment Out Region" comment-region :help "Comment or uncomment each line in the region" :enable mark-active) (separator-format "--") (eval-sexp menu-item "Evaluate Last S-expression" eval-last-sexp :help "Evaluate sexp before point; print value in minibuffer") (eval-region menu-item "Evaluate Region" eval-region :help "Execute the region as Lisp code" :enable mark-active) (eval-buffer menu-item "Evaluate Buffer" eval-buffer :help "Execute the current buffer as Lisp code") (ielm menu-item "Interactive Expression Evaluation" ielm :help "Interactively evaluate Emacs Lisp expressions") (separator-eval "--") (byte-compile menu-item "Byte-compile This File" emacs-lisp-byte-compile :help "Byte compile the file containing the current buffer") (emacs-byte-compile-and-load menu-item "Byte-compile and Load" emacs-lisp-byte-compile-and-load :help "Byte-compile the current file (if it has changed), then load compiled code") (byte-recompile menu-item "Byte-recompile Directory..." byte-recompile-directory :help "Recompile every `.el' file in DIRECTORY that needs recompilation") (disas menu-item "Disassemble Byte Compiled Object..." disassemble :help "Print disassembled code for OBJECT in a buffer") (separator-byte "--") (edebug-defun menu-item "Instrument Function for Debugging" edebug-defun :help "Evaluate the top level form point is in, stepping through with Edebug" :keys "C-u C-M-x") (lint "Linting" keymap (lint-d menu-item "Lint Defun" elint-defun :help "Lint the function at point") (lint-b menu-item "Lint Buffer" elint-current-buffer :help "Lint the current buffer") (lint-f menu-item "Lint File..." elint-file :help "Lint a file") (lint-di menu-item "Lint Directory..." elint-directory :help "Lint a directory")) (profiling "Profiling" keymap (prof-func menu-item "Instrument Function..." elp-instrument-function :help "Instrument a function for profiling") (prof-pack menu-item "Instrument Package..." elp-instrument-package :help "Instrument for profiling all function that start with a prefix") (prof-res menu-item "Show Profiling Results" elp-results :help "Display current profiling results") (prof-resfunc menu-item "Reset Counters for Function..." elp-reset-function :help "Reset the profiling information for a function") (prof-resall menu-item "Reset Counters for All Functions" elp-reset-all :help "Reset the profiling information for all functions being profiled") (sep-rem "--") (prof-restfunc menu-item "Remove Instrumentation for Function..." elp-restore-function :help "Restore an instrumented function to its original definition") (prof-restall menu-item "Remove Instrumentation for All Functions" elp-restore-all :help "Restore the original definitions of all functions being profiled")) (tracing "Tracing" keymap (tr-f menu-item "Trace Function..." trace-function :help "Trace the function given as an argument") (tr-q menu-item "Trace Function Quietly..." trace-function-background :help "Trace the function with trace output going quietly to a buffer") (tr-sep "--") (tr-uf menu-item "Untrace Function..." untrace-function :help "Untrace function, and possibly activate all remaining advice") (tr-a menu-item "Untrace All" untrace-all :help "Untrace all currently traced functions")) (re-builder menu-item "Construct Regexp" re-builder :help "Construct a regexp interactively") (checkdoc menu-item "Check Documentation Strings" checkdoc :help "Check documentation strings for style requirements") (eldoc menu-item "Auto-Display Documentation Strings" eldoc-mode :button (:toggle bound-and-true-p eldoc-mode) :help "Display the documentation string for the item under cursor") "Emacs-Lisp")) (27 keymap (10 . eval-print-last-sexp) (17 . indent-pp-sexp) (24 . eval-defun) (9 . completion-at-point)) "Emacs-Lisp" keymap (127 . backward-delete-char-untabify) (27 keymap (17 . indent-sexp))) (keymap #^[nil nil keymap 
#^^[3 0 set-mark-command move-beginning-of-line backward-char mode-specific-command-prefix delete-char move-end-of-line forward-char keyboard-quit help-command indent-for-tab-command newline-and-indent kill-line recenter-top-bottom newline next-line open-line previous-line quoted-insert phi-search-backward phi-search transpose-chars universal-argument scroll-up-command phi-rectangle-kill-region Control-X-prefix phi-rectangle-yank suspend-frame ESC-prefix nispio/other-window abort-recursive-edit nil undo self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command delete-backward-char] #^^[1 0 #^^[2 0 
#^^[3 0 set-mark-command move-beginning-of-line backward-char mode-specific-command-prefix delete-char move-end-of-line forward-char keyboard-quit help-command indent-for-tab-command newline-and-indent kill-line recenter-top-bottom newline next-line open-line previous-line quoted-insert phi-search-backward phi-search transpose-chars universal-argument scroll-up-command phi-rectangle-kill-region Control-X-prefix phi-rectangle-yank suspend-frame ESC-prefix nispio/other-window abort-recursive-edit nil undo self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command delete-backward-char] self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command] self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command] self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command self-insert-command] (f7 . multiple-cursors-mode) (33554435 keymap (67108924 . mc/mark-all-in-region) (33554435 . mc/edit-lines)) (67108924 . mc/mark-previous-like-this) (67108926 . mc/mark-next-like-this) (S-f12 . delete-frame) (f12 . nispio/toggle-fullscreen) (C-S-down . enlarge-window) (C-S-up . shrink-window) (C-S-right . enlarge-window-horizontally) (C-S-left . shrink-window-horizontally) (remap keymap (find-file-other-window) (find-file)) (S-mouse-3 . kmacro-end-call-mouse) (C-mouse-5 . mwheel-scroll) (S-mouse-5 . mwheel-scroll) (mouse-5 . mwheel-scroll) (C-mouse-4 . mwheel-scroll) (S-mouse-4 . mwheel-scroll) (mouse-4 . mwheel-scroll) (paste . clipboard-yank) (copy . clipboard-kill-ring-save) (cut . clipboard-kill-region) (f18 . clipboard-yank) (f16 . clipboard-kill-ring-save) (f20 . clipboard-kill-region) (tool-bar menu-item "tool bar" ignore :filter tool-bar-make-keymap) (f10 . menu-bar-open) (vertical-line keymap (mouse-1 . mouse-select-window) (down-mouse-1 . mouse-drag-vertical-line) (C-mouse-2 . mouse-split-window-vertically)) (vertical-scroll-bar keymap (mouse-1 . scroll-bar-toolkit-scroll) (C-mouse-2 . mouse-split-window-vertically)) (header-line keymap (mouse-1 . mouse-select-window) (down-mouse-1 . mouse-drag-header-line)) (mode-line keymap (C-mouse-2 . mouse-split-window-horizontally) (mouse-3 . mouse-delete-window) (mouse-2 . mouse-delete-other-windows) (down-mouse-1 . mouse-drag-mode-line) (drag-mouse-1 . mouse-select-window) (mouse-1 . mouse-select-window)) (C-down-mouse-3 menu-item "Menu Bar" ignore :filter (lambda (_) (if (zerop (or (frame-parameter nil (quote menu-bar-lines)) 0)) (mouse-menu-bar-map) (mouse-menu-major-mode-map)))) (S-down-mouse-1 . mouse-appearance-menu) (C-down-mouse-1 . mouse-buffer-menu) (mouse-3 . mouse-save-then-kill) (mouse-2 . mouse-yank-primary) (triple-mouse-1 . mouse-set-point) (double-mouse-1 . mouse-set-point) (drag-mouse-1 . mouse-set-region) (mouse-1 . mouse-set-point) (down-mouse-1 . mouse-drag-region) (M-mouse-2 . mouse-yank-secondary) (M-mouse-3 . mouse-secondary-save-then-kill) (M-down-mouse-1 . mouse-drag-secondary) (M-drag-mouse-1 . mouse-set-secondary) (M-mouse-1 . mouse-start-secondary) (C-down-mouse-2 . facemenu-menu) (compose-last-chars . compose-last-chars) (f1 . help-command) (help . help-command) (f2 . 2C-command) (menu-bar keymap (file "File" keymap (new-file menu-item "Visit New File..." find-file :enable (menu-bar-non-minibuffer-window-p) :help "Specify a new file's name, to edit the file") (open-file menu-item "Open File..." menu-find-file-existing :enable (menu-bar-non-minibuffer-window-p) :help "Read an existing file into an Emacs buffer") (dired menu-item "Open Directory..." dired :enable (menu-bar-non-minibuffer-window-p) :help "Read a directory, to operate on its files") (insert-file menu-item "Insert File..." insert-file :enable (menu-bar-non-minibuffer-window-p) :help "Insert another file into current buffer") (kill-buffer menu-item "Close" kill-this-buffer :enable (kill-this-buffer-enabled-p) :help "Discard (kill) current buffer") (separator-save "--") (save-buffer menu-item "Save" save-buffer :enable (and (buffer-modified-p) (buffer-file-name) (menu-bar-non-minibuffer-window-p)) :help "Save current buffer to its file") (write-file menu-item "Save As..." write-file :enable (and (menu-bar-menu-frame-live-and-visible-p) (menu-bar-non-minibuffer-window-p)) :help "Write current buffer to another file") (revert-buffer menu-item "Revert Buffer" revert-buffer :enable (or revert-buffer-function revert-buffer-insert-file-contents-function (and buffer-file-number (or (buffer-modified-p) (not (verify-visited-file-modtime (current-buffer)))))) :help "Re-read current buffer from its file") (recover-session menu-item "Recover Crashed Session" recover-session :enable (and auto-save-list-file-prefix (file-directory-p (file-name-directory auto-save-list-file-prefix)) (directory-files (file-name-directory auto-save-list-file-prefix) nil (concat "\\`" (regexp-quote (file-name-nondirectory auto-save-list-file-prefix))) t)) :help "Recover edits from a crashed session") (separator-print "--") (print-buffer menu-item "Print Buffer" print-buffer :enable (menu-bar-menu-frame-live-and-visible-p) :help "Print current buffer with page headings") (print-region menu-item "Print Region" print-region :enable mark-active :help "Print region between mark and current position") (ps-print-buffer-faces menu-item "PostScript Print Buffer" ps-print-buffer-with-faces :enable (menu-bar-menu-frame-live-and-visible-p) :help "Pretty-print current buffer to PostScript printer") (ps-print-region-faces menu-item "PostScript Print Region" ps-print-region-with-faces :enable mark-active :help "Pretty-print marked region to PostScript printer") (ps-print-buffer menu-item "PostScript Print Buffer (B+W)" ps-print-buffer :enable (menu-bar-menu-frame-live-and-visible-p) :help "Pretty-print current buffer in black and white to PostScript printer") (ps-print-region menu-item "PostScript Print Region (B+W)" ps-print-region :enable mark-active :help "Pretty-print marked region in black and white to PostScript printer") (separator-window "--") (new-window-below menu-item "New Window Below" split-window-below :enable (and (menu-bar-menu-frame-live-and-visible-p) (menu-bar-non-minibuffer-window-p)) :help "Make new window below selected one") (new-window-on-right menu-item "New Window on Right" split-window-right :enable (and (menu-bar-menu-frame-live-and-visible-p) (menu-bar-non-minibuffer-window-p)) :help "Make new window on right of selected one") (one-window menu-item "Remove Other Windows" delete-other-windows :enable (not (one-window-p t nil)) :help "Make selected window fill whole frame") (separator-frame "--") (make-frame menu-item "New Frame" make-frame-command :visible (fboundp (quote make-frame-command)) :help "Open a new frame") (make-frame-on-display menu-item "New Frame on Display..." make-frame-on-display :visible (fboundp (quote make-frame-on-display)) :help "Open a new frame on another display") (delete-this-frame menu-item "Delete Frame" delete-frame :visible (fboundp (quote delete-frame)) :enable (delete-frame-enabled-p) :help "Delete currently selected frame") (separator-exit "--") (exit-emacs menu-item "Quit" save-buffers-kill-terminal :help "Save unsaved buffers, then exit") "File") (edit "Edit" keymap (undo menu-item "Undo" undo :enable (and (not buffer-read-only) (not (eq t buffer-undo-list)) (if (eq last-command (quote undo)) (listp pending-undo-list) (consp buffer-undo-list))) :help "Undo last operation") (cut menu-item "Cut" kill-region :enable (and mark-active (not buffer-read-only)) :help "Cut (kill) text in region between mark and current position") (copy menu-item "Copy" kill-ring-save :enable mark-active :help "Copy text in region between mark and current position" :keys "\\[kill-ring-save]") (paste menu-item "Paste" yank :enable (and (or (and (fboundp (quote x-selection-exists-p)) (x-selection-exists-p (quote CLIPBOARD))) (if (featurep (quote ns)) (cdr yank-menu) kill-ring)) (not buffer-read-only)) :help "Paste (yank) text most recently cut/copied") (paste-from-menu menu-item "Paste from Kill Menu" yank-menu :enable (and (cdr yank-menu) (not buffer-read-only)) :help "Choose a string from the kill ring and paste it") (clear menu-item "Clear" delete-region :enable (and mark-active (not buffer-read-only)) :help "Delete the text in region between mark and current position") (mark-whole-buffer menu-item "Select All" mark-whole-buffer :help "Mark the whole buffer for a subsequent cut/copy") (separator-search "--") (search menu-item "Search" (keymap (search-forward menu-item "String Forward..." nonincremental-search-forward :help "Search forward for a string") (search-backward menu-item "String Backwards..." nonincremental-search-backward :help "Search backwards for a string") (re-search-forward menu-item "Regexp Forward..." nonincremental-re-search-forward :help "Search forward for a regular expression") (re-search-backward menu-item "Regexp Backwards..." nonincremental-re-search-backward :help "Search backwards for a regular expression") (separator-repeat-search "--") (repeat-search-fwd menu-item "Repeat Forward" nonincremental-repeat-search-forward :enable (or (and (eq menu-bar-last-search-type (quote string)) search-ring) (and (eq menu-bar-last-search-type (quote regexp)) regexp-search-ring)) :help "Repeat last search forward") (repeat-search-back menu-item "Repeat Backwards" nonincremental-repeat-search-backward :enable (or (and (eq menu-bar-last-search-type (quote string)) search-ring) (and (eq menu-bar-last-search-type (quote regexp)) regexp-search-ring)) :help "Repeat last search backwards") (separator-tag-search "--") (tags-srch menu-item "Search Tagged Files..." tags-search :help "Search for a regexp in all tagged files") (tags-continue menu-item "Continue Tags Search" tags-loop-continue :help "Continue last tags search operation") (separator-tag-isearch "--") (i-search menu-item "Incremental Search" (keymap (isearch-forward menu-item "Forward String..." isearch-forward :help "Search forward for a string as you type it") (isearch-backward menu-item "Backward String..." isearch-backward :help "Search backwards for a string as you type it") (isearch-forward-regexp menu-item "Forward Regexp..." isearch-forward-regexp :help "Search forward for a regular expression as you type it") (isearch-backward-regexp menu-item "Backward Regexp..." isearch-backward-regexp :help "Search backwards for a regular expression as you type it") "Incremental Search")) "Search")) (replace menu-item "Replace" (keymap (query-replace menu-item "Replace String..." query-replace :enable (not buffer-read-only) :help "Replace string interactively, ask about each occurrence") (query-replace-regexp menu-item "Replace Regexp..." query-replace-regexp :enable (not buffer-read-only) :help "Replace regular expression interactively, ask about each occurrence") (separator-replace-tags "--") (tags-repl menu-item "Replace in Tagged Files..." tags-query-replace :help "Interactively replace a regexp in all tagged files") (tags-repl-continue menu-item "Continue Replace" tags-loop-continue :help "Continue last tags replace operation") "Replace")) (goto menu-item "Go To" (keymap (go-to-line menu-item "Goto Line..." goto-line :help "Read a line number and go to that line") (go-to-pos menu-item "Goto Buffer Position..." goto-char :help "Read a number N and go to buffer position N") (beg-of-buf menu-item "Goto Beginning of Buffer" beginning-of-buffer) (end-of-buf menu-item "Goto End of Buffer" end-of-buffer) (separator-tags "--") (find-tag menu-item "Find Tag..." find-tag :help "Find definition of function or variable") (find-tag-otherw menu-item "Find Tag in Other Window..." find-tag-other-window :help "Find function/variable definition in another window") (next-tag menu-item "Find Next Tag" menu-bar-next-tag :enable (and (boundp (quote tags-location-ring)) (not (ring-empty-p tags-location-ring))) :help "Find next function/variable matching last tag name") (next-tag-otherw menu-item "Next Tag in Other Window" menu-bar-next-tag-other-window :enable (and (boundp (quote tags-location-ring)) (not (ring-empty-p tags-location-ring))) :help "Find next function/variable matching last tag name in another window") (apropos-tags menu-item "Tags Apropos..." tags-apropos :help "Find function/variables whose names match regexp") (separator-tag-file "--") (set-tags-name menu-item "Set Tags File Name..." visit-tags-table :help "Tell Tags commands which tag table file to use") "Go To")) (bookmark menu-item "Bookmarks" menu-bar-bookmark-map) (separator-bookmark "--") (fill menu-item "Fill" fill-region :enable (and mark-active (not buffer-read-only)) :help "Fill text in region to fit between left and right margin") (props menu-item "Text Properties" facemenu-menu) "Edit") (options "Options" keymap (transient-mark-mode menu-item "Highlight Active Region" transient-mark-mode :enable (not cua-mode) :help "Make text in active region stand out in color (Transient Mark mode)" :button (:toggle and (default-boundp (quote transient-mark-mode)) (default-value (quote transient-mark-mode)))) (highlight-paren-mode menu-item "Highlight Matching Parentheses" show-paren-mode :help "Highlight matching/mismatched parentheses at cursor (Show Paren mode)" :button (:toggle and (default-boundp (quote show-paren-mode)) (default-value (quote show-paren-mode)))) (highlight-separator "--") (line-wrapping menu-item "Line Wrapping in This Buffer" (keymap (window-wrap menu-item "Wrap at Window Edge" #[nil "\203 \300\303!\210\304
\205 \305\306!\207" [visual-line-mode word-wrap truncate-lines 0 nil toggle-truncate-lines -1] 2 nil nil] :help "Wrap long lines at window edge" :button (:radio and (null truncate-lines) (not (truncated-partial-width-window-p)) (not word-wrap)) :visible (menu-bar-menu-frame-live-and-visible-p) :enable (not (truncated-partial-width-window-p))) (truncate menu-item "Truncate Long Lines" #[nil "\203 \300\302!\210\303\304\305!\207" [visual-line-mode word-wrap 0 nil toggle-truncate-lines 1] 2 nil nil] :help "Truncate long lines at window edge" :button (:radio or truncate-lines (truncated-partial-width-window-p)) :visible (menu-bar-menu-frame-live-and-visible-p) :enable (not (truncated-partial-width-window-p))) (word-wrap menu-item "Word Wrap (Visual Line mode)" #[nil "\204 \300\301!\210\302\303!\207" [visual-line-mode 1 message "Visual-Line mode enabled"] 2 nil nil] :help "Wrap long lines at word boundaries" :button (:radio and (null truncate-lines) (not (truncated-partial-width-window-p)) word-wrap) :visible (menu-bar-menu-frame-live-and-visible-p)) "Line Wrapping")) (auto-fill-mode menu-item "Auto Fill in Text Modes" menu-bar-text-mode-auto-fill :help "Automatically fill text while typing (Auto Fill mode)" :button (:toggle if (listp text-mode-hook) (member (quote turn-on-auto-fill) text-mode-hook) (eq (quote turn-on-auto-fill) text-mode-hook))) (case-fold-search menu-item "Ignore Case for Search" toggle-case-fold-search :help "Ignore letter-case in search commands" :button (:toggle and (default-boundp (quote case-fold-search)) (default-value (quote case-fold-search)))) (cua-emulation-mode menu-item "Shift movement mark region (CUA)" cua-mode :visible (and (boundp (quote cua-enable-cua-keys)) (not cua-enable-cua-keys)) :help "Use shifted movement keys to set and extend the region" :button (:toggle and (default-boundp (quote cua-mode)) (default-value (quote cua-mode)))) (cua-mode menu-item "Use CUA Keys (Cut/Paste with C-x/C-c/C-v)" cua-mode :visible (or (not (boundp (quote cua-enable-cua-keys))) cua-enable-cua-keys) :help "Use C-z/C-x/C-c/C-v keys for undo/cut/copy/paste" :button (:toggle and (default-boundp (quote cua-mode)) (default-value (quote cua-mode)))) (edit-options-separator "--") (uniquify menu-item "Use Directory Names in Buffer Names" toggle-uniquify-buffer-names :help "Uniquify buffer names by adding parent directory names" :button (:toggle and (default-boundp (quote uniquify-buffer-name-style)) (default-value (quote uniquify-buffer-name-style)))) (save-place menu-item "Save Place in Files between Sessions" toggle-save-place-globally :help "Visit files of previous session when restarting Emacs" :button (:toggle and (default-boundp (quote save-place)) (default-value (quote save-place)))) (cursor-separator "--") (blink-cursor-mode menu-item "Blink Cursor" blink-cursor-mode :help "Whether the cursor blinks (Blink Cursor mode)" :button (:toggle and (default-boundp (quote blink-cursor-mode)) (default-value (quote blink-cursor-mode)))) (debugger-separator "--") (debug-on-error menu-item "Enter Debugger on Error" toggle-debug-on-error :help "Enter Lisp debugger when an error is signaled" :button (:toggle and (default-boundp (quote debug-on-error)) (default-value (quote debug-on-error)))) (debug-on-quit menu-item "Enter Debugger on Quit/C-g" toggle-debug-on-quit :help "Enter Lisp debugger when C-g is pressed" :button (:toggle and (default-boundp (quote debug-on-quit)) (default-value (quote debug-on-quit)))) (mule-separator "--") (mule menu-item "Multilingual Environment" (keymap (set-language-environment menu-item "Set Language Environment" (keymap (Default menu-item "Default" setup-specified-language-environment) "Set Language Environment" (Chinese "Chinese" . setup-chinese-environment-map) (Cyrillic "Cyrillic" . setup-cyrillic-environment-map) (Indian "Indian" . setup-indian-environment-map) (Sinhala "Sinhala" . setup-specified-language-environment) (English "English" . setup-specified-language-environment) (ASCII "ASCII" . setup-specified-language-environment) (Ethiopic "Ethiopic" . setup-specified-language-environment) (European "European" . setup-european-environment-map) (Turkish "Turkish" . setup-specified-language-environment) (Greek "Greek" . setup-specified-language-environment) (Hebrew "Hebrew" . setup-specified-language-environment) (Windows-1255 "Windows-1255" . setup-specified-language-environment) (Japanese "Japanese" . setup-specified-language-environment) (Korean "Korean" . setup-specified-language-environment) (Lao "Lao" . setup-specified-language-environment) (TaiViet "TaiViet" . setup-specified-language-environment) (Thai "Thai" . setup-specified-language-environment) (Tibetan "Tibetan" . setup-specified-language-environment) (Vietnamese "Vietnamese" . setup-specified-language-environment) (IPA "IPA" . setup-specified-language-environment) (Arabic "Arabic" . setup-specified-language-environment) (Persian "Persian" . setup-specified-language-environment) (UTF-8 "UTF-8" . setup-specified-language-environment) (Khmer "Khmer" . setup-specified-language-environment) (Burmese "Burmese" . setup-specified-language-environment) (Cham "Cham" . setup-specified-language-environment))) (separator-mule "--") (toggle-input-method menu-item "Toggle Input Method" toggle-input-method) (set-input-method menu-item "Select Input Method..." set-input-method) (separator-input-method "--") (set-various-coding-system menu-item "Set Coding Systems" (keymap (universal-coding-system-argument menu-item "For Next Command" universal-coding-system-argument :help "Coding system to be used by next command") (separator-1 "--") (set-buffer-file-coding-system menu-item "For Saving This Buffer" set-buffer-file-coding-system :help "How to encode this buffer when saved") (revert-buffer-with-coding-system menu-item "For Reverting This File Now" revert-buffer-with-coding-system :enable buffer-file-name :help "Revisit this file immediately using specified coding system") (set-file-name-coding-system menu-item "For File Name" set-file-name-coding-system :help "How to decode/encode file names") (separator-2 "--") (set-keyboard-coding-system menu-item "For Keyboard" set-keyboard-coding-system :help "How to decode keyboard input") (set-terminal-coding-system menu-item "For Terminal" set-terminal-coding-system :enable (null (memq initial-window-system (quote (x w32 ns)))) :help "How to encode terminal output") (separator-3 "--") (set-selection-coding-system menu-item "For X Selections/Clipboard" set-selection-coding-system :visible (display-selections-p) :help "How to en/decode data to/from selection/clipboard") (set-next-selection-coding-system menu-item "For Next X Selection" set-next-selection-coding-system :visible (display-selections-p) :help "How to en/decode next selection/clipboard operation") (set-buffer-process-coding-system menu-item "For I/O with Subprocess" set-buffer-process-coding-system :visible (fboundp (quote start-process)) :enable (get-buffer-process (current-buffer)) :help "How to en/decode I/O from/to subprocess connected to this buffer") "Set Coding System") :enable (default-value (quote enable-multibyte-characters))) (view-hello-file menu-item "Show Multilingual Sample Text" view-hello-file :enable (file-readable-p (expand-file-name "HELLO" data-directory)) :help "Demonstrate various character sets") (separator-coding-system "--") (describe-language-environment menu-item "Describe Language Environment" (keymap (Default menu-item "Default" describe-specified-language-support) "Describe Language Environment" (Chinese "Chinese" . describe-chinese-environment-map) (Cyrillic "Cyrillic" . describe-cyrillic-environment-map) (Indian "Indian" . describe-indian-environment-map) (Sinhala "Sinhala" . describe-specified-language-support) (English "English" . describe-specified-language-support) (ASCII "ASCII" . describe-specified-language-support) (Ethiopic "Ethiopic" . describe-specified-language-support) (European "European" . describe-european-environment-map) (Turkish "Turkish" . describe-specified-language-support) (Greek "Greek" . describe-specified-language-support) (Hebrew "Hebrew" . describe-specified-language-support) (Windows-1255 "Windows-1255" . describe-specified-language-support) (Japanese "Japanese" . describe-specified-language-support) (Korean "Korean" . describe-specified-language-support) (Lao "Lao" . describe-specified-language-support) (TaiViet "TaiViet" . describe-specified-language-support) (Thai "Thai" . describe-specified-language-support) (Tibetan "Tibetan" . describe-specified-language-support) (Vietnamese "Vietnamese" . describe-specified-language-support) (IPA "IPA" . describe-specified-language-support) (Arabic "Arabic" . describe-specified-language-support) (Persian "Persian" . describe-specified-language-support) (UTF-8 "UTF-8" . describe-specified-language-support) (Khmer "Khmer" . describe-specified-language-support) (Burmese "Burmese" . describe-specified-language-support)) :help "Show multilingual settings for a specific language") (describe-input-method menu-item "Describe Input Method" describe-input-method) (describe-coding-system menu-item "Describe Coding System..." describe-coding-system) (list-character-sets menu-item "List Character Sets" list-character-sets :help "Show table of available character sets") (mule-diag menu-item "Show All Multilingual Settings" mule-diag :help "Display multilingual environment settings") "Mule (Multilingual Environment)")) (showhide-separator "--") (showhide menu-item "Show/Hide" (keymap (showhide-tool-bar menu-item "Tool-bar" (keymap (showhide-tool-bar-none menu-item "None" menu-bar-showhide-tool-bar-menu-customize-disable :help "Turn tool-bar off" :visible (display-graphic-p) :button (:radio eq tool-bar-mode nil)) (showhide-tool-bar-top menu-item "On the Top" menu-bar-showhide-tool-bar-menu-customize-enable-top :help "Tool-bar at the top" :visible (display-graphic-p) :button (:radio and tool-bar-mode (eq (frame-parameter (menu-bar-frame-for-menubar) (quote tool-bar-position)) (quote top)))) (showhide-tool-bar-bottom menu-item "On the Bottom" menu-bar-showhide-tool-bar-menu-customize-enable-bottom :help "Tool-bar at the bottom" :visible (display-graphic-p) :button (:radio and tool-bar-mode (eq (frame-parameter (menu-bar-frame-for-menubar) (quote tool-bar-position)) (quote bottom)))) (showhide-tool-bar-right menu-item "On the Right" menu-bar-showhide-tool-bar-menu-customize-enable-right :help "Tool-bar at the right side" :visible (display-graphic-p) :button (:radio and tool-bar-mode (eq (frame-parameter (menu-bar-frame-for-menubar) (quote tool-bar-position)) (quote right)))) (showhide-tool-bar-left menu-item "On the Left" menu-bar-showhide-tool-bar-menu-customize-enable-left :help "Tool-bar at the left side" :visible (display-graphic-p) :button (:radio and tool-bar-mode (eq (frame-parameter (menu-bar-frame-for-menubar) (quote tool-bar-position)) (quote left)))) "Tool-bar") :visible (display-graphic-p)) (menu-bar-mode menu-item "Menu-bar" toggle-menu-bar-mode-from-frame :help "Turn menu-bar on/off" :button (:toggle menu-bar-positive-p (frame-parameter (menu-bar-frame-for-menubar) (quote menu-bar-lines)))) (showhide-tooltip-mode menu-item "Tooltips" tooltip-mode :help "Turn tooltips on/off" :visible (and (display-graphic-p) (fboundp (quote x-show-tip))) :button (:toggle . tooltip-mode)) (showhide-scroll-bar menu-item "Scroll-bar" (keymap (none menu-item "None" menu-bar-no-scroll-bar :help "Turn off scroll-bar" :visible (display-graphic-p) :button (:radio eq (cdr (assq (quote vertical-scroll-bars) (frame-parameters))) nil)) (left menu-item "On the Left" menu-bar-left-scroll-bar :help "Scroll-bar on the left side" :visible (display-graphic-p) :button (:radio eq (cdr (assq (quote vertical-scroll-bars) (frame-parameters))) (quote left))) (right menu-item "On the Right" menu-bar-right-scroll-bar :help "Scroll-bar on the right side" :visible (display-graphic-p) :button (:radio eq (cdr (assq (quote vertical-scroll-bars) (frame-parameters))) (quote right))) "Scroll-bar") :visible (display-graphic-p)) (showhide-fringe menu-item "Fringe" (keymap (none menu-item "None" menu-bar-showhide-fringe-menu-customize-disable :help "Turn off fringe" :visible (display-graphic-p) :button (:radio eq fringe-mode 0)) (left menu-item "On the Left" menu-bar-showhide-fringe-menu-customize-left :help "Fringe only on the left side" :visible (display-graphic-p) :button (:radio equal fringe-mode (quote (nil . 0)))) (right menu-item "On the Right" menu-bar-showhide-fringe-menu-customize-right :help "Fringe only on the right side" :visible (display-graphic-p) :button (:radio equal fringe-mode (quote (0)))) (default menu-item "Default" menu-bar-showhide-fringe-menu-customize-reset :help "Default width fringe on both left and right side" :visible (display-graphic-p) :button (:radio eq fringe-mode nil)) (customize menu-item "Customize Fringe" menu-bar-showhide-fringe-menu-customize :help "Detailed customization of fringe" :visible (display-graphic-p)) (indicate-empty-lines menu-item "Empty Line Indicators" toggle-indicate-empty-lines :help "Indicate trailing empty lines in fringe, globally" :button (:toggle and (default-boundp (quote indicate-empty-lines)) (default-value (quote indicate-empty-lines)))) (showhide-fringe-ind menu-item "Buffer Boundaries" (keymap (none menu-item "No Indicators" menu-bar-showhide-fringe-ind-none :help "Hide all buffer boundary indicators and arrows" :visible (display-graphic-p) :button (:radio eq indicate-buffer-boundaries nil)) (left menu-item "In Left Fringe" menu-bar-showhide-fringe-ind-left :help "Show buffer boundaries and arrows in left fringe" :visible (display-graphic-p) :button (:radio eq indicate-buffer-boundaries (quote left))) (right menu-item "In Right Fringe" menu-bar-showhide-fringe-ind-right :help "Show buffer boundaries and arrows in right fringe" :visible (display-graphic-p) :button (:radio eq indicate-buffer-boundaries (quote right))) (box menu-item "Opposite, No Arrows" menu-bar-showhide-fringe-ind-box :help "Show top/bottom indicators in opposite fringes, no arrows" :visible (display-graphic-p) :button (:radio equal indicate-buffer-boundaries (quote ((top . left) (bottom . right))))) (mixed menu-item "Opposite, Arrows Right" menu-bar-showhide-fringe-ind-mixed :help "Show top/bottom indicators in opposite fringes, arrows in right" :visible (display-graphic-p) :button (:radio equal indicate-buffer-boundaries (quote ((t . right) (top . left))))) (customize menu-item "Other (Customize)" menu-bar-showhide-fringe-ind-customize :help "Additional choices available through Custom buffer" :visible (display-graphic-p) :button (:radio not (member indicate-buffer-boundaries (quote (nil left right ((top . left) (bottom . right)) ((t . right) (top . left))))))) "Buffer boundaries") :visible (display-graphic-p) :help "Indicate buffer boundaries in fringe") "Fringe") :visible (display-graphic-p)) (showhide-speedbar menu-item "Speedbar" speedbar-frame-mode :help "Display a Speedbar quick-navigation frame" :button (:toggle and (boundp (quote speedbar-frame)) (frame-live-p (symbol-value (quote speedbar-frame))) (frame-visible-p (symbol-value (quote speedbar-frame))))) (datetime-separator "--") (showhide-date-time menu-item "Time, Load and Mail" display-time-mode :help "Display time, system load averages and mail status in mode line" :button (:toggle and (default-boundp (quote display-time-mode)) (default-value (quote display-time-mode)))) (showhide-battery menu-item "Battery Status" display-battery-mode :help "Display battery status information in mode line" :button (:toggle and (default-boundp (quote display-battery-mode)) (default-value (quote display-battery-mode)))) (linecolumn-separator "--") (size-indication-mode menu-item "Size Indication" size-indication-mode :help "Show the size of the buffer in the mode line" :button (:toggle and (default-boundp (quote size-indication-mode)) (default-value (quote size-indication-mode)))) (line-number-mode menu-item "Line Numbers" line-number-mode :help "Show the current line number in the mode line" :button (:toggle and (default-boundp (quote line-number-mode)) (default-value (quote line-number-mode)))) (column-number-mode menu-item "Column Numbers" column-number-mode :help "Show the current column number in the mode line" :button (:toggle and (default-boundp (quote column-number-mode)) (default-value (quote column-number-mode)))) "Show/Hide")) (menu-system-font menu-item "Use System Font" toggle-use-system-font :help "Use the monospaced font defined by the system" :button (:toggle and (default-boundp (quote font-use-system-font)) (default-value (quote font-use-system-font)))) (menu-set-font menu-item "Set Default Font..." menu-set-font :visible (display-multi-font-p) :help "Select a default font") (custom-separator "--") (save menu-item "Save Options" menu-bar-options-save :help "Save options set from the menu above") (package menu-item "Manage Emacs Packages" package-list-packages :help "Install or uninstall additional Emacs packages") (customize menu-item "Customize Emacs" (keymap (customize-themes menu-item "Custom Themes" customize-themes :help "Choose a pre-defined customization theme") (customize menu-item "Top-level Customization Group" customize :help "The master group called `Emacs'") (customize-browse menu-item "Browse Customization Groups" customize-browse :help "Browse all customization groups") (separator-3 "--") (customize-saved menu-item "Saved Options" customize-saved :help "Customize previously saved options") (customize-changed-options menu-item "New Options..." customize-changed-options :help "Options added or changed in recent Emacs versions") (separator-2 "--") (customize-option menu-item "Specific Option..." customize-option :help "Customize value of specific option") (customize-face menu-item "Specific Face..." customize-face :help "Customize attributes of specific face") (customize-group menu-item "Specific Group..." customize-group :help "Customize settings of specific group") (separator-1 "--") (customize-apropos menu-item "All Settings Matching..." customize-apropos :help "Browse customizable settings matching a regexp or word list") (customize-apropos-options menu-item "Options Matching..." customize-apropos-options :help "Browse options matching a regexp or word list") (customize-apropos-faces menu-item "Faces Matching..." customize-apropos-faces :help "Browse faces matching a regexp or word list") "Customize")) "Options") (buffer "Buffers" keymap "Select Buffer" [("temp.el  *  --  .../.emacs.d/nispio/" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer temp.el>)) ("keymap.c?h=emacs-24  %  --  ...cs.git/plain/src/" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer keymap.c?h=emacs-24>)) ("*Help*  %" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer *Help*>)) ("keymap.h?h=emacs-24  %  --  ...cs.git/plain/src/" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer keymap.h?h=emacs-24>)) ("deleteme.txt  *  --  /home/jph/temp/" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer deleteme.txt>)) ("loan.txt    --  /home/jph/temp/" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer loan.txt>)) ("*scratch*  *" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer *scratch*>)) ("dummy  *" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer dummy>)) ("init.el  *  --  /home/jph/.emacs.d/" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer init.el>)) ("help-fns.el.gz  *  --  .../emacs/24.3/lisp/" (nil) lambda nil (interactive) (funcall menu-bar-select-buffer-function #<buffer help-fns.el.gz>))] (command-separator "--") (next-buffer menu-item "Next Buffer" next-buffer :help "Switch to the \"next\" buffer in a cyclic order") (previous-buffer menu-item "Previous Buffer" previous-buffer :help "Switch to the \"previous\" buffer in a cyclic order") (select-named-buffer menu-item "Select Named Buffer..." switch-to-buffer :help "Prompt for a buffer name, and select that buffer in the current window") (list-all-buffers menu-item "List All Buffers" list-buffers :help "Pop up a window listing all Emacs buffers")) (tools "Tools" keymap (grep menu-item "Search Files (Grep)..." grep :help "Search files for strings or regexps (with Grep)") (compile menu-item "Compile..." compile :help "Invoke compiler or Make, view compilation errors") (shell menu-item "Shell Command..." shell-command :help "Invoke a shell command and catch its output") (shell-on-region menu-item "Shell Command on Region..." shell-command-on-region :enable mark-active :help "Pass marked region to a shell command") (gdb menu-item "Debugger (GDB)..." gdb :help "Debug a program from within Emacs with GDB") (ede menu-item "Project support (EDE)" global-ede-mode :help "Toggle the Emacs Development Environment (Global EDE mode)" :button (:toggle bound-and-true-p global-ede-mode)) (semantic menu-item "Source Code Parsers (Semantic)" semantic-mode :help "Toggle automatic parsing in source code buffers (Semantic mode)" :button (:toggle bound-and-true-p semantic-mode)) (separator-prog "--") (Helm menu-item "Helm" (keymap "Helm" (Find\ any\ Files/Buffers menu-item "Find any Files/Buffers" helm-for-files) (Helm\ Everywhere\ \(Toggle\) menu-item "Helm Everywhere (Toggle)" helm-mode) (Helm\ resume menu-item "Helm resume" helm-resume) (nil menu-item "----") (Files menu-item "Files" (keymap "Files" (Find\ files menu-item "Find files" helm-find-files) (Recent\ Files menu-item "Recent Files" helm-recentf) (Locate menu-item "Locate" helm-locate) (Search\ Files\ with\ find menu-item "Search Files with find" helm-find) (Bookmarks menu-item "Bookmarks" helm-filtered-bookmarks))) (Buffers menu-item "Buffers" (keymap "Buffers" (Find\ buffers menu-item "Find buffers" helm-buffers-list))) (Commands menu-item "Commands" (keymap "Commands" (Emacs\ Commands menu-item "Emacs Commands" helm-M-x) (Externals\ Commands menu-item "Externals Commands" helm-run-external-command))) (Help menu-item "Help" (keymap "Help" (Helm\ Apropos menu-item "Helm Apropos" helm-apropos))) (Info menu-item "Info" (keymap "Info" (Info\ at\ point menu-item "Info at point" helm-info-at-point) (Emacs\ Manual\ index menu-item "Emacs Manual index" helm-info-emacs) (Gnus\ Manual\ index menu-item "Gnus Manual index" helm-info-gnus))) (Org menu-item "Org" (keymap "Org" (Org\ keywords menu-item "Org keywords" helm-org-keywords) (Org\ headlines menu-item "Org headlines" helm-org-headlines))) (Tools menu-item "Tools" (keymap "Tools" (Occur menu-item "Occur" helm-occur) (Grep menu-item "Grep" helm-do-grep) (Etags menu-item "Etags" helm-etags-select) (Lisp\ complete\ at\ point menu-item "Lisp complete at point" helm-lisp-completion-at-point) (Browse\ Kill\ ring menu-item "Browse Kill ring" helm-show-kill-ring) (Browse\ register menu-item "Browse register" helm-register) (Mark\ Ring menu-item "Mark Ring" helm-all-mark-rings) (Regexp\ handler menu-item "Regexp handler" helm-regexp) (Colors\ &\ Faces menu-item "Colors & Faces" helm-colors) (Show\ xfonts menu-item "Show xfonts" helm-select-xfont) (Ucs\ Symbols menu-item "Ucs Symbols" helm-ucs) (Imenu menu-item "Imenu" helm-imenu) (Semantic\ or\ Imenu menu-item "Semantic or Imenu" helm-semantic-or-imenu) (Google\ Suggest menu-item "Google Suggest" helm-google-suggest) (Eval\ expression menu-item "Eval expression" helm-eval-expression-with-eldoc) (Calcul\ expression menu-item "Calcul expression" helm-calcul-expression) (Man\ pages menu-item "Man pages" helm-man-woman) (Top\ externals\ process menu-item "Top externals process" helm-top) (Emacs\ internals\ process menu-item "Emacs internals process" helm-list-emacs-process))) (nil-11 menu-item "----") (Preferred\ Options menu-item "Preferred Options" helm-configuration))) (---- menu-item "----" (keymap "----")) (spell menu-item "Spell Checking" ispell-menu-map) (separator-spell "--") (compare menu-item "Compare (Ediff)" menu-bar-ediff-menu) (ediff-merge menu-item "Merge" menu-bar-ediff-merge-menu) (epatch menu-item "Apply Patch" menu-bar-epatch-menu) (separator-compare "--") (vc menu-item "Version Control" vc-menu-map :filter vc-menu-map-filter) (separator-vc "--") (gnus menu-item "Read Net News (Gnus)" gnus :help "Read network news groups") (rmail menu-item (format "Read Mail (with %s)" (read-mail-item-name)) menu-bar-read-mail :visible (and read-mail-command (not (eq read-mail-command (quote ignore)))) :help "Read your mail and reply to it") (compose-mail menu-item (format "Send Mail (with %s)" (send-mail-item-name)) compose-mail :visible (and mail-user-agent (not (eq mail-user-agent (quote ignore)))) :help "Send a mail message") (directory-search menu-item "Directory Search" eudc-tools-menu) (separator-net "--") (calendar menu-item "Calendar" calendar :help "Invoke the Emacs built-in calendar") (calc menu-item "Programmable Calculator" calc :help "Invoke the Emacs built-in full scientific calculator") (simple-calculator menu-item "Simple Calculator" calculator :help "Invoke the Emacs built-in quick calculator") (separator-encryption-decryption "--") (encryption-decryption menu-item "Encryption/Decryption" (keymap (decrypt-file menu-item "Decrypt File..." epa-decrypt-file :help "Decrypt a file") (encrypt-file menu-item "Encrypt File..." epa-encrypt-file :help "Encrypt a file") (verify-file menu-item "Verify File..." epa-verify-file :help "Verify digital signature of a file") (sign-file menu-item "Sign File..." epa-sign-file :help "Create digital signature of a file") (separator-file "--") (decrypt-region menu-item "Decrypt Region" epa-decrypt-region :help "Decrypt the current region") (encrypt-region menu-item "Encrypt Region" epa-encrypt-region :help "Encrypt the current region") (verify-region menu-item "Verify Region" epa-verify-region :help "Verify digital signature of the current region") (sign-region menu-item "Sign Region" epa-sign-region :help "Create digital signature of the current region") (separator-keys "--") (list-keys menu-item "List Keys" epa-list-keys :help "Browse your public keyring") (import-keys menu-item "Import Keys from File..." epa-import-keys :help "Import public keys from a file") (import-keys-region menu-item "Import Keys from Region" epa-import-keys-region :help "Import public keys from the current region") (export-keys menu-item "Export Keys" epa-export-keys :help "Export public keys to a file") (insert-keys menu-item "Insert Keys" epa-insert-keys :help "Insert public keys after the current point") "Encryption/Decryption")) (separator-games "--") (games menu-item "Games" (keymap (5x5 menu-item "5x5" 5x5 :help "Fill in all the squares on a 5x5 board") (adventure menu-item "Adventure" dunnet :help "Dunnet, a text Adventure game for Emacs") (black-box menu-item "Blackbox" blackbox :help "Find balls in a black box by shooting rays") (bubbles menu-item "Bubbles" bubbles :help "Remove all bubbles using the fewest moves") (gomoku menu-item "Gomoku" gomoku :help "Mark 5 contiguous squares (like tic-tac-toe)") (hanoi menu-item "Towers of Hanoi" hanoi :help "Watch Towers-of-Hanoi puzzle solved by Emacs") (land menu-item "Landmark" landmark :help "Watch a neural-network robot learn landmarks") (life menu-item "Life" life :help "Watch how John Conway's cellular automaton evolves") (mult menu-item "Multiplication Puzzle" mpuz :help "Exercise brain with multiplication") (pong menu-item "Pong" pong :help "Bounce the ball to your opponent") (snake menu-item "Snake" snake :help "Move snake around avoiding collisions") (solitaire menu-item "Solitaire" solitaire :help "Get rid of all the stones") (tetris menu-item "Tetris" tetris :help "Falling blocks game") (zone menu-item "Zone Out" zone :help "Play tricks with Emacs display when Emacs is idle") "Games")) "Tools") (mouse-1 . tmm-menubar-mouse) (help-menu "Help" keymap (emacs-tutorial menu-item "Emacs Tutorial" help-with-tutorial :help "Learn how to use Emacs") (emacs-tutorial-language-specific menu-item "Emacs Tutorial (choose language)..." help-with-tutorial-spec-language :help "Learn how to use Emacs (choose a language)") (emacs-faq menu-item "Emacs FAQ" view-emacs-FAQ :help "Frequently asked (and answered) questions about Emacs") (emacs-news menu-item "Emacs News" view-emacs-news :help "New features of this version") (emacs-known-problems menu-item "Emacs Known Problems" view-emacs-problems :help "Read about known problems with Emacs") (emacs-manual-bug menu-item "How to Report a Bug" info-emacs-bug :help "Read about how to report an Emacs bug") (send-emacs-bug-report menu-item "Send Bug Report..." report-emacs-bug :help "Send e-mail to Emacs maintainers") (emacs-psychotherapist menu-item "Emacs Psychotherapist" doctor :help "Our doctor will help you feel better") (sep1 "--") (search-documentation menu-item "Search Documentation" (keymap (emacs-terminology menu-item "Emacs Terminology" search-emacs-glossary :help "Display the Glossary section of the Emacs manual") (lookup-subject-in-emacs-manual menu-item "Look Up Subject in User Manual..." emacs-index-search :help "Find description of a subject in Emacs User manual") (lookup-subject-in-elisp-manual menu-item "Look Up Subject in ELisp Manual..." elisp-index-search :help "Find description of a subject in Emacs Lisp manual") (lookup-key-in-manual menu-item "Look Up Key in User Manual..." Info-goto-emacs-key-command-node :help "Display manual section that describes a key") (lookup-command-in-manual menu-item "Look Up Command in User Manual..." Info-goto-emacs-command-node :help "Display manual section that describes a command") (sep1 "--") (find-commands-by-name menu-item "Find Commands by Name..." apropos-command :help "Find commands whose names match a regexp") (find-options-by-name menu-item "Find Options by Name..." apropos-variable :help "Find variables whose names match a regexp") (find-option-by-value menu-item "Find Options by Value..." apropos-value :help "Find variables whose values match a regexp") (find-any-object-by-name menu-item "Find Any Object by Name..." apropos :help "Find symbols of any kind whose names match a regexp") (search-documentation-strings menu-item "Search Documentation Strings..." apropos-documentation :help "Find functions and variables whose doc strings match a regexp") "Search Documentation")) (describe menu-item "Describe" (keymap (describe-mode menu-item "Describe Buffer Modes" describe-mode :help "Describe this buffer's major and minor mode") (describe-key-1 menu-item "Describe Key or Mouse Operation..." describe-key :help "Display documentation of command bound to a key, a click, or a menu-item") (describe-function menu-item "Describe Function..." describe-function :help "Display documentation of function/command") (describe-variable menu-item "Describe Variable..." describe-variable :help "Display documentation of variable/option") (describe-face menu-item "Describe Face..." describe-face :help "Display the properties of a face") (describe-package menu-item "Describe Package..." describe-package :help "Display documentation of a Lisp package") (describe-current-display-table menu-item "Describe Display Table" describe-current-display-table :help "Describe the current display table") (list-keybindings menu-item "List Key Bindings" describe-bindings :help "Display all current key bindings (keyboard shortcuts)") (separator-desc-mule "--") (describe-language-environment menu-item "Describe Language Environment" (keymap (Default menu-item "Default" describe-specified-language-support) "Describe Language Environment" (Chinese "Chinese" . describe-chinese-environment-map) (Cyrillic "Cyrillic" . describe-cyrillic-environment-map) (Indian "Indian" . describe-indian-environment-map) (Sinhala "Sinhala" . describe-specified-language-support) (English "English" . describe-specified-language-support) (ASCII "ASCII" . describe-specified-language-support) (Ethiopic "Ethiopic" . describe-specified-language-support) (European "European" . describe-european-environment-map) (Turkish "Turkish" . describe-specified-language-support) (Greek "Greek" . describe-specified-language-support) (Hebrew "Hebrew" . describe-specified-language-support) (Windows-1255 "Windows-1255" . describe-specified-language-support) (Japanese "Japanese" . describe-specified-language-support) (Korean "Korean" . describe-specified-language-support) (Lao "Lao" . describe-specified-language-support) (TaiViet "TaiViet" . describe-specified-language-support) (Thai "Thai" . describe-specified-language-support) (Tibetan "Tibetan" . describe-specified-language-support) (Vietnamese "Vietnamese" . describe-specified-language-support) (IPA "IPA" . describe-specified-language-support) (Arabic "Arabic" . describe-specified-language-support) (Persian "Persian" . describe-specified-language-support) (UTF-8 "UTF-8" . describe-specified-language-support) (Khmer "Khmer" . describe-specified-language-support) (Burmese "Burmese" . describe-specified-language-support))) (describe-input-method menu-item "Describe Input Method..." describe-input-method :visible (default-value (quote enable-multibyte-characters)) :help "Keyboard layout for specific input method") (describe-coding-system menu-item "Describe Coding System..." describe-coding-system :visible (default-value (quote enable-multibyte-characters))) (describe-coding-system-briefly menu-item "Describe Coding System (Briefly)" describe-current-coding-system-briefly :visible (default-value (quote enable-multibyte-characters))) (mule-diag menu-item "Show All of Mule Status" mule-diag :visible (default-value (quote enable-multibyte-characters)) :help "Display multilingual environment settings") "Describe")) (emacs-manual menu-item "Read the Emacs Manual" info-emacs-manual :help "Full documentation of Emacs features") (more-manuals menu-item "More Manuals" (keymap (emacs-lisp-intro menu-item "Introduction to Emacs Lisp" menu-bar-read-lispintro :help "Read the Introduction to Emacs Lisp Programming") (emacs-lisp-reference menu-item "Emacs Lisp Reference" menu-bar-read-lispref :help "Read the Emacs Lisp Reference manual") (other-manuals menu-item "All Other Manuals (Info)" Info-directory :help "Read any of the installed manuals") (lookup-subject-in-all-manuals menu-item "Lookup Subject in all Manuals..." info-apropos :help "Find description of a subject in all installed manuals") (order-emacs-manuals menu-item "Ordering Manuals" view-order-manuals :help "How to order manuals from the Free Software Foundation") (sep2 "--") (man menu-item "Read Man Page..." manual-entry :help "Man-page docs for external commands and libraries") "More Manuals")) (find-emacs-packages menu-item "Search Built-in Packages" finder-by-keyword :help "Find built-in packages and features by keyword") (external-packages menu-item "Finding Extra Packages" menu-bar-help-extra-packages :help "Lisp packages distributed separately for use in Emacs") (sep2 "--") (getting-new-versions menu-item "Getting New Versions" describe-distribution :help "How to get the latest version of Emacs") (describe-copying menu-item "Copying Conditions" describe-copying :help "Show the Emacs license (GPL)") (describe-no-warranty menu-item "(Non)Warranty" describe-no-warranty :help "Explain that Emacs has NO WARRANTY") (sep4 "--") (about-emacs menu-item "About Emacs" about-emacs :help "Display version number, copyright info, and basic help") (about-gnu-project menu-item "About GNU" describe-gnu-project :help "About the GNU System, GNU Project, and GNU/Linux") "Help")) (f4 . kmacro-end-or-call-macro) (f3 . kmacro-start-macro-or-insert-counter) (C-M-end . end-of-defun) (C-M-home . beginning-of-defun) (C-M-down . down-list) (C-M-up . backward-up-list) (C-M-right . forward-sexp) (C-M-left . backward-sexp) (S-delete . kill-region) (C-backspace . backward-kill-word) (C-delete . kill-word) (C-left . left-word) (C-right . right-word) (M-left . left-word) (M-right . right-word) (mouse-movement . ignore) (deletechar . delete-forward-char) (deleteline . kill-line) (insertline . open-line) (open . find-file) (again . repeat-complex-command) (redo . repeat-complex-command) (undo . undo) (S-insertchar . yank) (C-insertchar . kill-ring-save) (insertchar . overwrite-mode) (S-insert . yank) (C-insert . kill-ring-save) (insert . overwrite-mode) (execute . execute-extended-command) (M-begin . beginning-of-buffer-other-window) (begin . beginning-of-buffer) (M-end . end-of-buffer-other-window) (C-end . end-of-buffer) (end . move-end-of-line) (M-prior . scroll-other-window-down) (M-next . scroll-other-window) (C-next . scroll-left) (C-prior . scroll-right) (C-down . forward-paragraph) (C-up . backward-paragraph) (next . scroll-up-command) (prior . scroll-down-command) (down . next-line) (right . right-char) (up . previous-line) (left . left-char) (M-home . beginning-of-buffer-other-window) (C-home . beginning-of-buffer) (home . move-beginning-of-line) (C-S-backspace . kill-whole-line) (find . search-forward) (menu . execute-extended-command) (67108896 . set-mark-command) (67108909 . negative-argument) (67108921 . digit-argument) (67108920 . digit-argument) (67108919 . digit-argument) (67108918 . digit-argument) (67108917 . digit-argument) (67108916 . digit-argument) (67108915 . digit-argument) (67108914 . digit-argument) (67108913 . digit-argument) (67108912 . digit-argument) (XF86Back . previous-buffer) (XF86Forward . next-buffer) (67108911 . undo) (make-frame-visible . ignore-event) (iconify-frame . ignore-event) (delete-frame . handle-delete-frame) (select-window . handle-select-window) (switch-frame . handle-switch-frame)))



(let* ((key (kbd "C-h k"))
       (desc (key-description key))
       (function (key-binding key))
       (arglist (help-function-arglist function))
       (bindings (nispio/locate-key-binding key))
       (usage (help-make-usage function arglist))
       (doc (documentation function))
       )
  (with-help-window (help-buffer)
    (princ (format "Key Bindings for %S\n\n" desc))
    (when (nth 0 bindings)
      (princ (format "At Point: %S\n" (or (nth 0 ret) "nil"))))
	
	(princ (format "Minor-mode: %s\n"
		       (or (and (nth 1 ret)
				(mapconcat
				 (lambda (x) (format "%s: %s" (car x) (cdr x)))
				 (nth 1 ret) "\n            ")) "nil")))
	(princ (format "Local: %s\n" (or (nth 2 ret) "nil")))
	(princ (format "Global: %s" (or (nth 3 ret) "nil")))))

    (princ usage)
    (princ "\n\n")
    (princ doc)
    )
  nil)

(key-binding (kbd "C-h k"))
(key-description (kbd "C-h k"))
